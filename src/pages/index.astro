---
import Layout from "../layouts/Layout.astro";
import { skillCategories } from "../data/skills";

// Get core and frontend skills for homepage preview
const previewSkills = [
  ...(skillCategories.find((cat) => cat.title === "Core")?.skills.slice(0, 4) || []),
  ...(skillCategories.find((cat) => cat.title === "Frontend")?.skills.slice(0, 4) || []),
  ...(skillCategories.find((cat) => cat.title === "Backend")?.skills.slice(2, 5) || [])
];
---

<Layout title="Supakorn">
  <div class="max-w-4xl w-full mx-auto px-4 sm:px-6 lg:px-8">
    <h1 class="animate-fade-in text-4xl font-bold mb-6 text-slate-900 dark:text-white">
      👋 Welcome to My Portfolio
    </h1>
    <p class="text-lg text-slate-700 dark:text-slate-300 mb-8">
      Hi, I'm A Developer ✨ passionate about building innovative solutions and cybersecurity 🔐
    </p>

    <div class="grid gap-6 w-full">
      <div
        class="w-full p-6 pl-10 bg-white dark:bg-dark-card rounded-lg shadow-sm border border-slate-200 dark:border-dark transition-colors duration-200"
      >
        <h2 class="text-xl font-semibold mb-4 dark:text-white">🚀 Latest Projects</h2>
        <p class="text-slate-600 dark:text-slate-400">
          Check out some of my recent work and personal projects.
        </p>
        <a
          href="/projects"
          class="inline-block mt-4 text-primary hover:text-primary/80 transition-colors"
          >View Projects →</a
        >
      </div>

      <div
        class="w-full p-6 pl-10 bg-white dark:bg-dark-card rounded-lg shadow-sm border border-slate-200 dark:border-dark transition-colors duration-200"
      >
        <h2 class="text-xl font-semibold mb-4 dark:text-white">🛠️ My Tech Journey</h2>
        <ul class="grid grid-cols-2 sm:grid-cols-3 gap-2 text-slate-600 dark:text-slate-400">
          {
            previewSkills.map((skill) => (
              <li class="flex items-center gap-2">
                {skill.darkIcon ? (
                  <>
                    <img src={skill.icon} class="w-5 h-5 block dark:hidden" />
                    <img src={skill.darkIcon} class="w-5 h-5 hidden dark:block" />
                  </>
                ) : (
                  <img src={skill.icon} class="w-5 h-5" />
                )}
                {skill.name}
              </li>
            ))
          }
          <li class="flex items-center gap-2">
            <a href="/about" class="text-primary hover:text-primary/80 transition-colors">
              More →
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <style>
    .animate-fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>

  <script>
    import { gsap } from "gsap";

    gsap.from(".grid > div", {
      y: 20,
      opacity: 0,
      duration: 0.4,
      stagger: 0.1,
      ease: "power2.out",
      delay: 0.1
    });
  </script>
</Layout>
